<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>{{ title }}</title>
    <style>
        /* æ³¨å…¥ CSS æ ·å¼ */
        {{ css_content | safe }}
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 style="color: #2c3e50; margin-bottom: 10px;">ğŸ“Š Gitå·¥ä½œæ—¥æŠ¥</h1>
            <p style="color: #7f8c8d; font-size: 1.1em;">ç”Ÿæˆæ—¶é—´: {{ generation_time }}</p>
        </div>

        {% if ai_summary_html %}
        <div class="ai-summary">
            <h2 style="margin-top: 0; color: #667eea;">ğŸ¤– AI å·¥ä½œæ‘˜è¦</h2>
            <div class="markdown-body">
                {{ ai_summary_html | safe }}
            </div>
        </div>
        {% endif %}

        <div class="stats">
            <h2 style="margin: 0; color: white;">ğŸ“ˆ ç»Ÿè®¡ä¿¡æ¯</h2>
            <p style="font-size: 1.2em; margin: 10px 0;">
                ä»Šæ—¥æäº¤æ•°é‡: <strong style="font-size: 1.4em;">{{ total_commits }}</strong>
            </p>
            <p style="margin: 5px 0;">
                æ¶‰åŠä½œè€…: <strong>{{ authors | join(', ') if authors else 'æ— ' }}</strong>
            </p>
            <p style="margin: 5px 0;">
                ä»£ç å˜æ›´: <strong>+{{ stats.additions }} -{{ stats.deletions }}</strong>
                (ä¿®æ”¹æ–‡ä»¶: {{ stats.files_changed }})
            </p>
        </div>

        {% if stats.file_stats %}
        <div class="file-list">
            <h3 style="color: #667eea; margin-top: 0;">ğŸ“ æ–‡ä»¶å˜æ›´è¯¦æƒ… (åˆå¹¶ç»Ÿè®¡)</h3>
            <table class="file-table">
                <thead>
                    <tr>
                        <th>æ–‡ä»¶å</th>
                        <th>æ–°å¢è¡Œæ•°</th>
                        <th>åˆ é™¤è¡Œæ•°</th>
                    </tr>
                </thead>
                <tbody>
                    {% for file in stats.file_stats %}
                    <tr>
                        <td>{{ file.filename }}</td>
                        <td class="file-add">+{{ file.additions }}</td>
                        <td class="file-del">-{{ file.deletions }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% endif %}

        <h3 style="color: #2c3e50; border-bottom: 2px solid #ecf0f1; padding-bottom: 10px;">ğŸ“ æäº¤å†å²</h3>

        {% if not authors_commits %}
            <div class="empty-state">
                <h3>ğŸ“­ æ²¡æœ‰æ‰¾åˆ°æäº¤è®°å½•</h3>
                <p>å¯èƒ½æ˜¯ä»¥ä¸‹åŸå› ï¼š</p>
                <ul style="text-align: left; display: inline-block;">
                    <li>ä»Šå¤©æ²¡æœ‰æäº¤</li>
                    <li>Gitä»“åº“è·¯å¾„ä¸æ­£ç¡®</li>
                    <li>æ—¶é—´èŒƒå›´è®¾ç½®é—®é¢˜</li>
                </ul>
            </div>
        {% else %}
            {% for author, commits in authors_commits.items() %}
            <div class="author-section">
                <div class="author-header">ğŸ‘¤ {{ author }} ({{ commits | length }} ä¸ªæäº¤)</div>

                {% for commit in commits %}
                <div class="commit">
                    <span class="commit-number">{{ loop.index }}</span>
                    <span class="graph">{{ commit.graph }}</span>
                    <span class="hash">{{ commit.hash }}</span>
                    <div class="message">{{ commit.message }}</div>
                    <div>
                        <span class="time">ğŸ•’ {{ commit.time }}</span>
                        {% if commit.has_branch %}
                        | <span class="branch">ğŸŒ¿ {{ commit.branch }}</span>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}
            </div>
            {% endfor %}
        {% endif %}
    </div>
</body>
</html>